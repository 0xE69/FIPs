---
fip: "0014"
title: V1 seal proof sectors extension
author: deltazxm (@deltazxm), Neo Ge(@neogeweb3)
discussions-to: https://github.com/filecoin-project/FIPs/issues/56
status: Draft
type: Technical
created: 2021-26-02
spec-sections: 
  - section-systems.filecoin_mining.sector.lifecycle

---

## Simple Summary
Allow the life cycle of V1 proof sectors to be able to extend.
Allow the V1 proof sectors life cycle extention. 

## Abstract
2020 v1 sectors have different lengths of the lifecycle (180/360/540 days), if lifecycle extension is not approved, at least we expect some fairness on this. In another word, change all the lifecycle to 540 days. 

## Change Motivation
In the case of network security, the fairness of the decentralized network needs to be guaranteed. All v1s should at least get the same life cycle. This FIP allows all sectors of different lifecycle to be extention to 540 days.

### Actor changes
https://github.com/filecoin-project/specs-actors/blob/master/actors/builtin/sector.go
const EpochsInFiveYears = stabi.ChainEpoch(5 * EpochsInYear)
const EpochIn540Days = stabi.ChainEpoch(EpochsInYear + EpochsInYear/2)

var SealProofPolicies = map[stabi.RegisteredSealProof]*SealProofPolicy{
	stabi.RegisteredSealProof_StackedDrg2KiBV1: {
		SectorMaxLifetime: EpochIn540Days,
	},
	stabi.RegisteredSealProof_StackedDrg8MiBV1: {
		SectorMaxLifetime: EpochIn540Days,
	},
	stabi.RegisteredSealProof_StackedDrg512MiBV1: {
		SectorMaxLifetime: EpochIn540Days,
	},
	stabi.RegisteredSealProof_StackedDrg32GiBV1: {
		SectorMaxLifetime: EpochIn540Days,
	},
	stabi.RegisteredSealProof_StackedDrg64GiBV1: {
		SectorMaxLifetime: EpochIn540Days,
	},

	stabi.RegisteredSealProof_StackedDrg2KiBV1_1: {
		SectorMaxLifetime: EpochsInFiveYears,
	},
	stabi.RegisteredSealProof_StackedDrg8MiBV1_1: {
		SectorMaxLifetime: EpochsInFiveYears,
	},
	stabi.RegisteredSealProof_StackedDrg512MiBV1_1: {
		SectorMaxLifetime: EpochsInFiveYears,
	},
	stabi.RegisteredSealProof_StackedDrg32GiBV1_1: {
		SectorMaxLifetime: EpochsInFiveYears,
	},
	stabi.RegisteredSealProof_StackedDrg64GiBV1_1: {
		SectorMaxLifetime: EpochsInFiveYears,
	},
}

var ExtensibleProofTypesV7 = map[abi.RegisteredSealProof]struct{}{ 
        abi.RegisteredSealProof_StackedDrg32GiBV1:   {}, 
        abi.RegisteredSealProof_StackedDrg64GiBV1:   {}, 
        abi.RegisteredSealProof_StackedDrg32GiBV1_1: {}, 
        abi.RegisteredSealProof_StackedDrg64GiBV1_1: {}, 
}

https://github.com/filecoin-project/specs-actors/actors/builtin/miner/miner_actor.go
Remove the following condition in ExtendSectorExpiration method:

if !CanExtendSealProofType(sector.SealProof) {
		rt.Abortf(exitcode.ErrForbidden, "cannot extend expiration for sector %v with unsupported seal type %v",
		sector.SectorNumber, sector.SealProof)
}

## Test Cases
N/A

## Implementation
Submit after this FIP review

## Security Considerations
N/A

## Incentive Considerations
After making this change, V1 proof sectors lifecycle will be extended and continue to receive block rewards. 
## Product Considerations
This FIP can ensure that all V1 sectors are fair under the condition of ensuring safety

## Copyright

Copyright and related rights waived via [CC0](https://creativecommons.org/publicdomain/zero/1.0/).
